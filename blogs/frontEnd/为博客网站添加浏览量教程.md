---
title: 为博客网站添加浏览量教程
date: 2023-04-04
tags:
 - 前端
 - VuePress
categories: 
 - 前端随笔
sidebar: 'auto'
---

我是使用[百度统计](https://tongji.baidu.com/web/welcome/login)来统计浏览量的，首先要注册账号，如果有了也可以直接登陆。我用的账号的普通的百度账号，而不是营销账号。

登陆之后就能看到如下界面，并且点击使用设置：
<img src="../assets/image/为博客网站添加浏览量教程/1680601833911.jpg"/>

点击之后进入设置页面，可以新建网站：
<img src="../assets/image/为博客网站添加浏览量教程/1680602138623.jpg"/>

然后填入信息：
<img src="../assets/image/为博客网站添加浏览量教程/1680602321074.jpg"/>

确定之后就能看到百度给的脚本了：
<img src="../assets/image/为博客网站添加浏览量教程/1680602397106.jpg"/>

按照他的教程，把脚本添加到我们的所有页面里面。由于使用vuepress构建后的是静态页面，切换页面也不会触发请求，所以我们需要在进去网站的时候就把这段脚本加上，而且在切换页面的时候也需要触发统计。

现在先把代码加到我们的页面中：
<img src="../assets/image/为博客网站添加浏览量教程/1680603226237.jpg"/>

接下来添加 config 同级文件 enhanceApp.js，添加如下代码：
```js
export default ({ router }) => {
  // 路由切换事件处理
  router.beforeEach((to, from, next) => {
    //触发百度的pv统计
    if (typeof _hmt != "undefined") {
      if (to.path) {
        _hmt.push(["_trackPageview", to.fullPath]);
      }
    }
    next();
  });
};
```
然后等一段时间，大概20分钟，如果配置正确的话就能看到数据了！
<img src="../assets/image/为博客网站添加浏览量教程/1680605911884.jpg"/>

那么接下来就是把数据引入到我们的网站里面了。我们可以阅读[百度统计的文档](https://tongji.baidu.com/api/manual/Chapter2/openapi.html)来开通数据api，但是开通需要前一天网站的阅读量超过100才可以，所以目前我还开通不了，自己随便点点几下就好了，只能明天再继续了。